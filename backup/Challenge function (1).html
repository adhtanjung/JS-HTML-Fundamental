<script>

        // array
        let buah = [{ nama: "apel", stock: 10, harga: 1000, beli: 0 },
        { nama: "tomat", stock: 20, harga: 2000, beli: 0 },
        { nama: "kiwi", stock: 30, harga: 3000, beli: 0 }]

        //looping
        var tanyaawal = true
        var kondisi1 = true
        var kondisi2 = true

        // function
        function showlist() {
                var daftarbuah = ""
                {
                        for (var i = 0; i < buah.length; i++) { daftarbuah += i + ". Buah " + buah[i].nama + " | Stock " + buah[i].stock + " | Harga : Rp. " + buah[i].harga + "\n" }

                }
                alert("Daftar buah: \n" + daftarbuah) //ini jgn didlm for loop
                // gapake return -- return daftarbuah
        }

        // proses
        do {
                var tanyaawal = parseInt(prompt("Apa yang ingin kamu lakukan?" + "\n\n"
                        + "1. Menampilkan menu buah" + "\n"
                        + "2. Menambah menu buah" + "\n"
                        + "3. Menghapus menu buah" + "\n"
                        + "4. Membeli buah" + "\n"))

                if (tanyaawal == 1) { showlist() }

                else if (tanyaawal == 2) //tambah buah
                {
                        do {
                                var tambahbuah = prompt("Silahkan masukan nama buah yang akan di input!")
                                var tambahstock = parseInt(prompt("Silahkan masukan stock yang akan di input!"))
                                var tambahharga = parseInt(prompt("Silahkan masukan harga yang akan di input!"))
                                if (tambahbuah == "" && tambahstock == "" && tambahharga == "" || tambahbuah == 0 && tambahstock == 0 && tambahharga == 0) //ini tadi salah masukkin variable sm yg diprompt
                                        alert("ISI YANG BENER JANGAN NGADI NGADI!")
                                else { buah.push({ nama: tambahbuah, stock: tambahstock, harga: tambahharga, beli: 0 }) }
                                alert("Tambah buah berhasil ditambahkan!" + "\n" + "Tambahan buah bisa cek di daftar buah")
                                kondisi1 = false
                        }
                        while (kondisi1)
                        showlist() // ini gaperlu dialert lagi karna di functionnya udh ada alertnya
                }

                else if (tanyaawal == 3) //hapus buah
                {
                        for (var i = 0; i < buah.length; i++) {
                                do {
                                        hapusbuah = parseInt(prompt("Masukan jumlah buah yang akan di hapus \n" + buah[i].nama + " stock " + buah[i].stock))
                                        if (hapus > (buah[i].length) || hapus == "" || hapus < 0) {
                                                alert("Ngaco kamu bos")
                                                kondisi2 = true
                                        }
                                        else { kondisi2 = false }
                                }
                                while (kondisi2)
                        }
                        buah.splice(hapus, 1)
                        alert("Produk ke-" + hapus + 1 + " berhasil dihapus")
                        showlist()
                }

                else if (tanyaawal == 4) //beli buah
                {
                        do {
                                for (var i = 0; i < buah.length; i++)
                                        beli[i] = prompt("Masukkan jumlah buah yang mau kamu beli " + buah[i] + "\n" + "Stock " + buah[i] + " " + stock[i] + " buah")
                                while (beli[i] > stock[i] || beli[i] < 0 || beli[i] == "")
                                        alert("Jumlah nya ga sesuai hei \nSisa stock " + buah[i] + ": " + stock[i])
                                if (beli[i] == 0 && beli[i] == 0 && beli[i] == 0 || beli[i] < 0 || beli[i] < 0 || beli[i] < 0)
                                        alert("Minimal input satu buah")
                        }
                        while ((beli[i] == 0 && beli[i] == 0 && beli[i] == 0 || beli[i] < 0 || beli[i] < 0 || beli[i] < 0))

                        //process
                        var totalbuah = ""
                        var totalharga = 0

                        for (var i = 0; i < buah.length; i++) {
                                totalbuah += buah[i] + " " + beli[i] + " x " + harga[i] + " = " + (beli[i] * harga[i]) + "\n"
                                totalharga += (beli[i] * harga[i])
                        }
                        alert("Rincian belanjaan kamu: \n" + totalbuah + "\n" + "Total yang harus kamu bayar " + totalharga)

                        //bayar                
                        do {
                                var bayar = prompt("Masukkan jumlah uang" + "\n"
                                        + "Total yang harus kamu bayar: " + totalharga)
                                if (bayar == totalharga)
                                        alert("Makasih udah belanja disini! \nUang kamu pas ya gaada kembalian!")
                                else if (bayar > totalharga)
                                        alert("Makasih udah belanja disini! \nUang kembalian kamu " + (bayar - totalharga))
                                else if (bayar < totalharga)
                                        alert("Duit kamu kurang " + (totalharga - bayar) + " hey!")
                                else if (bayar == 0 || bayar == null)
                                        alert("Kamu ngaco, transaksi dibatalkan")
                        }
                        while (bayar < totalharga || bayar == 0)
                }
                tanyaakhir = true
                tanyaakhir = confirm("Kembali ke menu ga nih?")
        }
        while (tanyaakhir)
</script>